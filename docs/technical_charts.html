<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kuantara | Pro Analyst Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Fira Code (Kuantara Standard) -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap"/>

  <!-- ECharts -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>

  <style>
    :root {
      /* Kuantara Terminal Palette (Wajib) */
      --bg-root:#000000;
      --bg-main:#111111;
      --border-soft:#2b2b2b;
      --text-main:#f5f5f5;
      --text-muted:#9b9b9b;
      --accent:#ffbf00;

      --up:#22c55e;
      --down:#ef4444;
      --info:#38bdf8;

      /* Font sizes (Kuantara Spec) */
      --fs-title:14px;
      --fs-subtitle:12px;
      --fs-body:10.5px;
      --fs-small:9.5px;
    }

    * {
      box-sizing:border-box;
      margin:0;
      padding:0;
      font-family:"Fira Code",monospace;
    }

    /* Scrollbar – dark & minimal */
    *::-webkit-scrollbar{
      width:6px;
      height:6px;
    }
    *::-webkit-scrollbar-track{
      background:#000000;
    }
    *::-webkit-scrollbar-thumb{
      background:#2b2b2b;
      border-radius:3px;
    }
    *::-webkit-scrollbar-thumb:hover{
      background:#3b3b3b;
    }
    *{
      scrollbar-width:thin;
      scrollbar-color:#2b2b2b #000000;
    }

    html, body {
      width:100%;
      height:100%;
      background-color:var(--bg-root);
      color:var(--text-main);
    }

    body {
      display:flex;
      flex-direction:column;
    }

    .page-root{
      flex:1 1 auto;
      display:flex;
      flex-direction:column;
      padding:16px;
      gap:8px;
      min-height:0;
    }

    .page-header{
      display:flex;
      flex-direction:row;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      font-size:var(--fs-body);
    }

    .page-title{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:var(--fs-title);
      font-weight:600;
    }

    .page-dot{
      width:10px;
      height:10px;
      border-radius:50%;
      background:var(--accent);
      box-shadow:0 0 8px rgba(255,191,0,0.6);
    }

    .page-subtitle{
      font-size:var(--fs-small);
      color:var(--text-muted);
      margin-top:2px;
    }

    .chip{
      font-size:var(--fs-small);
      padding:2px 10px;
      border-radius:999px;
      border:1px solid var(--border-soft);
      color:var(--text-muted);
      background:#111111;
      white-space:nowrap;
    }

    /* === GRID LAYOUT (MAIN CONTENT) === */
    .main-grid {
      flex:1 1 auto;
      display:grid;
      grid-template-columns:340px 1fr; /* Left fixed, right fluid */
      grid-template-rows:60% 40%;      /* Top 60%, bottom 40% */
      gap:8px;
      min-height:0;
      margin-top:4px;
    }

    .panel {
      background:var(--bg-main);
      border:1px solid var(--border-soft);
      border-radius:4px;
      overflow:hidden;
      position:relative;
      min-width:0;
      min-height:0;
    }

    /* === PANEL 1: CONTROLS & STATS (TOP LEFT) === */
    .panel-stats {
      grid-column:1 / 2;
      grid-row:1 / 2;
      display:flex;
      flex-direction:column;
      padding:16px;
      gap:12px;
      overflow:hidden;
    }

    .panel-stats-inner{
      flex:1 1 auto;
      display:flex;
      flex-direction:column;
      gap:12px;
      overflow-y:auto;
      padding-right:4px;
    }

    .control-group {
      display:grid;
      gap:8px;
    }

    .control-label {
      font-size:var(--fs-small);
      color:var(--text-muted);
      text-transform:uppercase;
      letter-spacing:0.4px;
    }

    select, button {
      background:#000000;
      border:1px solid var(--border-soft);
      color:var(--text-main);
      padding:6px 8px;
      border-radius:4px;
      font-size:var(--fs-body);
      outline:none;
      cursor:pointer;
    }

    select:focus, button:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(255,191,0,0.3);
    }

    button.btn-update {
      background:var(--accent);
      color:#000000;
      border:none;
      font-weight:600;
      font-size:var(--fs-body);
    }
    button.btn-update:hover { opacity:0.9; }

    /* Price Big Display */
    .price-display {
      border-top:1px solid var(--border-soft);
      border-bottom:1px solid var(--border-soft);
      padding:10px 0;
      margin:4px 0;
    }
    .big-price {
      font-size:22px;
      font-weight:700;
    }
    .price-change {
      font-size:var(--fs-body);
      margin-top:2px;
    }

    /* Data Grid (OHLC & Performance) */
    .data-grid {
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px 12px;
    }
    .data-item {
      display:flex;
      flex-direction:column;
      gap:2px;
    }
    .data-val {
      font-size:var(--fs-body);
    }

    /* Pivot Points Table */
    .pivot-table {
      width:100%;
      font-size:var(--fs-small);
      margin-top:4px;
      border-collapse:collapse;
    }
    .pivot-table td {
      padding:3px 0;
      color:var(--text-muted);
    }
    .pivot-table td.val {
      text-align:right;
      color:var(--text-main);
    }

    /* === PANEL 2: CHART (TOP RIGHT) === */
    .panel-chart {
      grid-column:2 / 3;
      grid-row:1 / 2;
      display:flex;
      flex-direction:column;
      min-height:0;
    }

    .chart-header {
      padding:8px 12px;
      font-size:var(--fs-small);
      color:var(--text-muted);
      border-bottom:1px solid var(--border-soft);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      background:#111111;
    }

    .chart-header-left{
      display:flex;
      align-items:center;
      gap:8px;
    }

    .chart-title-main{
      font-size:var(--fs-body);
      color:var(--text-main);
    }

    .chart-badge{
      font-size:var(--fs-small);
      padding:2px 6px;
      border-radius:999px;
      background:#000000;
      border:1px solid var(--border-soft);
      color:var(--text-muted);
    }

    #mainChart {
      width:100%;
      height:100%;
    }

    /* === PANEL 3: BOTTOM – TECHNICAL SUMMARY === */
    .panel-tech {
      grid-column:1 / 3;
      grid-row:2 / 3;
      border-top:1px solid var(--border-soft);
      display:grid;
      grid-template-columns:260px 1fr; /* Gauge left, matrix right */
      min-height:0;
    }

    /* Gauge Section */
    .gauge-section {
      border-right:1px solid var(--border-soft);
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:12px;
      position:relative;
      min-width:0;
      min-height:0;
    }
    #gaugeChart { width:100%; height:100%; }
    .gauge-label {
      position:absolute;
      bottom:10px;
      font-size:var(--fs-subtitle);
      font-weight:600;
    }

    .gauge-caption{
      position:absolute;
      top:8px;
      left:10px;
      font-size:var(--fs-small);
      color:var(--text-muted);
    }

    /* Multi-TF Table Section */
    .tech-table-container {
      padding:0;
      overflow:auto;
      min-width:0;
      min-height:0;
    }
    
    .tech-matrix {
      width:100%;
      border-collapse:collapse;
      font-size:var(--fs-body);
      text-align:center;
    }
    .tech-matrix th {
      background:#000000;
      color:var(--text-muted);
      padding:8px 6px;
      font-weight:500;
      position:sticky;
      top:0;
      z-index:10;
      border-bottom:1px solid var(--border-soft);
    }
    .tech-matrix td {
      padding:7px 6px;
      border-bottom:1px solid var(--border-soft);
    }
    .tech-matrix tr:hover td { background:#191919; }

    /* Utility colors */
    .c-up { color:var(--up); }
    .c-down { color:var(--down); }
    .c-neutral { color:var(--text-muted); }

    .bg-buy {
      background:rgba(34,197,94,0.12);
      color:var(--up);
      border-radius:4px;
      padding:1px 6px;
      font-size:var(--fs-small);
    }
    .bg-sell {
      background:rgba(239,68,68,0.12);
      color:var(--down);
      border-radius:4px;
      padding:1px 6px;
      font-size:var(--fs-small);
    }
    .bg-neu {
      background:rgba(155,155,155,0.12);
      color:var(--text-muted);
      border-radius:4px;
      padding:1px 6px;
      font-size:var(--fs-small);
    }

    /* Divider line */
    .divider{
      border:0;
      border-top:1px solid var(--border-soft);
      margin:4px 0;
    }

    /* === RESPONSIVE (MOBILE FIRST) === */
    @media (max-width:900px){
      .page-root{
        padding:12px;
      }
      .main-grid{
        grid-template-columns:1fr;
        grid-template-rows:auto auto auto;
        height:auto;
      }
      .panel-stats{
        grid-column:1 / 2;
        grid-row:1 / 2;
        max-height:260px;
      }
      .panel-chart{
        grid-column:1 / 2;
        grid-row:2 / 3;
        height:260px;
      }
      .panel-tech{
        grid-column:1 / 2;
        grid-row:3 / 4;
        grid-template-columns:1fr;
        height:260px;
      }
      .gauge-section{
        border-right:none;
        border-bottom:1px solid var(--border-soft);
        height:140px;
      }
      .tech-table-container{
        height:120px;
      }
    }
  </style>
</head>
<body>

<div class="page-root">
  <!-- TITLE BAR (CONTENT, BUKAN NAVBAR) -->
  <div class="page-header">
    <div>
      <div class="page-title">
        <span class="page-dot"></span>
        <span>KUANTARA TERMINAL · PRO ANALYST SNAPSHOT</span>
      </div>
      <div class="page-subtitle">
        Multi-timeframe technical bias, gauge summary, and intraday stats.
      </div>
    </div>
    <div class="chip">
      MODE: ANALYST VIEW
    </div>
  </div>

  <!-- MAIN GRID -->
  <div class="main-grid">
    <!-- PANEL 1: LEFT – CONTROLS & STATS -->
    <div class="panel panel-stats">
      <div class="panel-stats-inner">

        <div class="control-group">
          <label class="control-label">Asset / Ticker</label>
          <select id="assetSelect">
            <option value="XAUUSD">Gold (XAU/USD)</option>
            <option value="BTCUSD">Bitcoin (BTC/USD)</option>
            <option value="EURUSD">Euro (EUR/USD)</option>
            <option value="NVDA">Nvidia Corp</option>
          </select>
          
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px;">
            <div>
              <label class="control-label">Timeframe</label>
              <select id="tfSelect" style="width:100%; margin-top:4px;">
                <option value="1h">1H</option>
                <option value="4h" selected>4H</option>
                <option value="1d">1D</option>
              </select>
            </div>
            <div style="display:flex; align-items:flex-end;">
              <button class="btn-update" id="updateBtn" style="width:100%;">UPDATE</button>
            </div>
          </div>
        </div>

        <div class="price-display">
          <div class="control-label">Last Price</div>
          <div class="big-price" id="lblPrice">2,034.50</div>
          <div class="price-change c-up" id="lblChange">+12.40 (+0.61%)</div>
        </div>

        <div>
          <div class="control-label">Session OHLC</div>
          <div class="data-grid" style="margin-top:4px;">
            <div class="data-item">
              <span class="control-label">Open</span>
              <span class="data-val" id="valOpen">2,022.10</span>
            </div>
            <div class="data-item">
              <span class="control-label">High</span>
              <span class="data-val c-up" id="valHigh">2,038.00</span>
            </div>
            <div class="data-item">
              <span class="control-label">Low</span>
              <span class="data-val c-down" id="valLow">2,020.50</span>
            </div>
            <div class="data-item">
              <span class="control-label">Vol</span>
              <span class="data-val" id="valVol">45.2K</span>
            </div>
          </div>
        </div>

        <hr class="divider">

        <div>
          <div class="control-label">Performance</div>
          <div class="data-grid" style="margin-top:4px;">
            <div class="data-item">
              <span class="control-label">Weekly</span>
              <span class="data-val c-up">+1.24%</span>
            </div>
            <div class="data-item">
              <span class="control-label">Monthly</span>
              <span class="data-val c-down">-0.45%</span>
            </div>
            <div class="data-item">
              <span class="control-label">YoY</span>
              <span class="data-val c-up">+12.80%</span>
            </div>
            <div class="data-item">
              <span class="control-label">YTD</span>
              <span class="data-val c-up">+5.10%</span>
            </div>
          </div>
        </div>

        <div style="margin-top:6px;">
          <div class="control-label">Fibonacci Pivot (Daily)</div>
          <table class="pivot-table">
            <tr><td>R3</td><td class="val">2,050.10</td></tr>
            <tr><td>R2</td><td class="val">2,045.30</td></tr>
            <tr><td>R1</td><td class="val">2,039.80</td></tr>
            <tr>
              <td style="color:var(--accent)">Pivot</td>
              <td class="val" style="color:var(--accent)">2,030.00</td>
            </tr>
            <tr><td>S1</td><td class="val">2,022.50</td></tr>
            <tr><td>S2</td><td class="val">2,015.00</td></tr>
          </table>
        </div>

      </div>
    </div>

    <!-- PANEL 2: RIGHT – CHART (FULL-WIDTH CANVAS) -->
    <div class="panel panel-chart">
      <div class="chart-header">
        <div class="chart-header-left">
          <span>CHART:</span>
          <span class="chart-title-main" id="chartTitle">XAUUSD</span>
        </div>
        <div style="display:flex; gap:6px; align-items:center;">
          <span class="chart-badge">MA(20)</span>
          <span class="chart-badge">MA(50)</span>
          <span class="chart-badge">VOL</span>
        </div>
      </div>
      <div id="mainChart"></div>
    </div>

    <!-- PANEL 3: BOTTOM – TECH SUMMARY -->
    <div class="panel panel-tech">
      <div class="gauge-section">
        <div class="gauge-caption">OVERALL SUMMARY</div>
        <div id="gaugeChart"></div>
        <div class="gauge-label" id="gaugeText">STRONG BUY</div>
      </div>

      <div class="tech-table-container">
        <table class="tech-matrix">
          <thead>
            <tr>
              <th style="text-align:left; padding-left:14px;">Indicator</th>
              <th>15m</th>
              <th>1H</th>
              <th>4H</th>
              <th>Daily</th>
              <th>Weekly</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">RSI (14)</td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-neu">Neut</span></td>
              <td><span class="bg-sell">Sell</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td>58.42</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">Stochastic</td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-sell">Sell</span></td>
              <td><span class="bg-sell">Sell</span></td>
              <td><span class="bg-sell">Sell</span></td>
              <td><span class="bg-neu">Neut</span></td>
              <td>78.10</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">MACD</td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-neu">Neut</span></td>
              <td><span class="bg-sell">Sell</span></td>
              <td>+2.45</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">SMA (50)</td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-neu">Neut</span></td>
              <td>Above</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">EMA (200)</td>
              <td><span class="bg-neu">Neut</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-sell">Sell</span></td>
              <td><span class="bg-sell">Sell</span></td>
              <td>Below</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">Bollinger Bands</td>
              <td><span class="bg-neu">Neut</span></td>
              <td><span class="bg-neu">Neut</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-neu">Neut</span></td>
              <td>Middle</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">ADX (14)</td>
              <td><span class="bg-buy">Strong</span></td>
              <td><span class="bg-buy">Strong</span></td>
              <td><span class="bg-neu">Weak</span></td>
              <td><span class="bg-neu">Weak</span></td>
              <td><span class="bg-sell">Strong</span></td>
              <td>32.50</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">CCI (20)</td>
              <td><span class="bg-sell">Sell</span></td>
              <td><span class="bg-neu">Neut</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td><span class="bg-buy">Buy</span></td>
              <td>105.2</td>
            </tr>
            <tr>
              <td style="text-align:left; padding-left:14px; color:var(--text-main);">ATR (Vol)</td>
              <td colspan="5" style="color:var(--text-muted); font-style:italic; font-size:var(--fs-small);">
                High volatility detected across lower TFs
              </td>
              <td>12.4</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>
</div>

<script>
  // ==============================
  // 1. DATA GENERATION (DUMMY)
  // ==============================
  function generateFinancialData() {
    let basePrice = 2000;
    let data = [];
    let dates = [];
    let volumes = [];
    let closes = [];
    
    let time = new Date();
    time.setHours(0,0,0,0);

    for (let i = 0; i < 100; i++) {
      let dateStr = time.toLocaleDateString('en-GB');
      dates.push(dateStr);

      let open = basePrice;
      let close = basePrice + (Math.random() - 0.5) * 30;
      let high = Math.max(open, close) + Math.random() * 10;
      let low = Math.min(open, close) - Math.random() * 10;
      let vol = Math.floor(Math.random() * 1000);

      data.push([
        open.toFixed(2),
        close.toFixed(2),
        low.toFixed(2),
        high.toFixed(2)
      ]);
      
      volumes.push({
        value: vol,
        itemStyle: { color: close > open ? '#22c55e' : '#ef4444' }
      });

      closes.push(close);

      basePrice = close;
      time.setDate(time.getDate() + 1);
    }

    function calcMA(src, period){
      const out = new Array(src.length).fill('-');
      for(let i = period - 1; i < src.length; i++){
        let sum = 0;
        for(let j = 0; j < period; j++){
          sum += src[i - j];
        }
        out[i] = (sum / period).toFixed(2);
      }
      return out;
    }

    const ma20 = calcMA(closes, 20);
    const ma50 = calcMA(closes, 50);

    return { dates, values: data, volumes, ma20, ma50 };
  }

  // ==============================
  // 2. CHART INITIALIZATION
  // ==============================
  const mainChart = echarts.init(document.getElementById('mainChart'));
  const gaugeChart = echarts.init(document.getElementById('gaugeChart'));

  function renderMainChart(rawData) {
    const option = {
      backgroundColor:'transparent',
      tooltip:{
        trigger:'axis',
        axisPointer:{ type:'cross' },
        backgroundColor:'rgba(15,15,15,0.95)',
        borderColor:'#333',
        textStyle:{ color:'#f5f5f5', fontFamily:'Fira Code', fontSize:10 }
      },
      grid:[
        { left:'52px', right:'14px', top:'8px', height:'70%' },
        { left:'52px', right:'14px', top:'78%', height:'16%' }
      ],
      xAxis:[
        {
          type:'category',
          data:rawData.dates,
          scale:true,
          boundaryGap:false,
          axisLine:{ lineStyle:{ color:'#333' } },
          axisLabel:{
            color:'#777',
            fontSize:9
          },
          splitLine:{ show:false }
        },
        {
          type:'category',
          gridIndex:1,
          data:rawData.dates,
          axisLabel:{ show:false },
          axisLine:{ show:false },
          splitLine:{ show:false }
        }
      ],
      yAxis:[
        {
          scale:true,
          splitLine:{ show:true, lineStyle:{ color:'#2b2b2b', width:0.8 } },
          axisLabel:{ color:'#777', fontSize:9 }
        },
        {
          scale:true,
          gridIndex:1,
          splitLine:{ show:false },
          axisLabel:{ show:false },
          axisLine:{ show:false }
        }
      ],
      dataZoom:[
        {
          type:'inside',
          xAxisIndex:[0,1],
          start:50,
          end:100
        }
      ],
      series:[
        {
          type:'candlestick',
          data:rawData.values,
          itemStyle:{
            color:'#22c55e',
            color0:'#ef4444',
            borderColor:'#22c55e',
            borderColor0:'#ef4444'
          }
        },
        {
          name:'MA 20',
          type:'line',
          data:rawData.ma20,
          smooth:true,
          showSymbol:false,
          lineStyle:{ color:'#ffbf00', width:1 }
        },
        {
          name:'MA 50',
          type:'line',
          data:rawData.ma50,
          smooth:true,
          showSymbol:false,
          lineStyle:{ color:'#38bdf8', width:1 }
        },
        {
          name:'Volume',
          type:'bar',
          xAxisIndex:1,
          yAxisIndex:1,
          data:rawData.volumes
        }
      ]
    };
    mainChart.setOption(option);
  }

  function renderGauge(score) {
    const option = {
      series:[
        {
          type:'gauge',
          startAngle:180,
          endAngle:0,
          min:0,
          max:1,
          splitNumber:5,
          radius:'95%',
          center:['50%','65%'],
          axisLine:{
            lineStyle:{
              width:7,
              color:[
                [0.2,'#ef4444'],
                [0.4,'#f97373'],
                [0.6,'#9b9b9b'],
                [0.8,'#4ade80'],
                [1.0,'#22c55e']
              ]
            }
          },
          pointer:{
            width:3,
            length:'60%',
            itemStyle:{ color:'#f5f5f5' }
          },
          axisTick:{ show:false },
          splitLine:{ show:false },
          axisLabel:{ show:false },
          detail:{ show:false },
          data:[{ value:score }]
        }
      ]
    };
    gaugeChart.setOption(option);
    
    const txt = document.getElementById('gaugeText');
    if(score < 0.2){
      txt.innerText = 'STRONG SELL';
      txt.style.color = '#ef4444';
    } else if(score < 0.4){
      txt.innerText = 'SELL';
      txt.style.color = '#f97373';
    } else if(score < 0.6){
      txt.innerText = 'NEUTRAL';
      txt.style.color = '#9b9b9b';
    } else if(score < 0.8){
      txt.innerText = 'BUY';
      txt.style.color = '#4ade80';
    } else {
      txt.innerText = 'STRONG BUY';
      txt.style.color = '#22c55e';
    }
  }

  // ==============================
  // 3. LOGIC & EVENTS
  // ==============================
  function updateAll() {
    const data = generateFinancialData();
    renderMainChart(data);

    const lastCandle = data.values[data.values.length-1];
    const prevCandle = data.values[data.values.length-2];
    const price = parseFloat(lastCandle[1]);
    const prev = parseFloat(prevCandle[1]);
    const change = price - prev;
    const pct = (change/prev)*100;

    document.getElementById('lblPrice').innerText = price.toFixed(2);

    const elChange = document.getElementById('lblChange');
    elChange.innerText = `${change>0?'+':''}${change.toFixed(2)} (${pct.toFixed(2)}%)`;
    elChange.className = change >= 0 ? 'price-change c-up' : 'price-change c-down';

    document.getElementById('valOpen').innerText = lastCandle[0];
    document.getElementById('valHigh').innerText = lastCandle[3];
    document.getElementById('valLow').innerText = lastCandle[2];

    document.getElementById('valVol').innerText = (Math.random()*100000).toFixed(0);

    renderGauge(Math.random()); 
  }

  window.addEventListener('resize', () => {
    mainChart.resize();
    gaugeChart.resize();
  });

  document.getElementById('updateBtn').addEventListener('click', () => {
    const btn = document.getElementById('updateBtn');
    btn.innerText = 'LOADING...';
    setTimeout(() => {
      updateAll();
      document.getElementById('chartTitle').innerText = document.getElementById('assetSelect').value;
      btn.innerText = 'UPDATE';
    }, 400);
  });

  // First Load
  updateAll();
</script>

</body>
</html>
