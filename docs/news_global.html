<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kuantara – Global News</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fira Code (Kuantara Standard) -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&display=swap"/>

  <style>
    :root {
      /* Kuantara Terminal Palette */
      --bg-root:#000000;
      --bg-main:#111111;
      --border-soft:#2b2b2b;
      --text-main:#f5f5f5;
      --text-muted:#9b9b9b;
      --accent:#ffbf00;

      /* Font sizes (9–14px spec) */
      --fs-title:14px;     /* Page title / key labels */
      --fs-subtitle:12px;  /* Section title */
      --fs-body:10.5px;    /* Body text */
      --fs-small:9.5px;    /* Meta / hints */
    }

    * {
      box-sizing:border-box;
      margin:0;
      padding:0;
      font-family:"Fira Code",monospace !important;
    }

    /* Global scrollbar – Kuantara style */
    * {
      scrollbar-width:thin;
      scrollbar-color:#2b2b2b #000000;
    }
    *::-webkit-scrollbar {
      width:6px;
      height:6px;
    }
    *::-webkit-scrollbar-track {
      background:#000000;
    }
    *::-webkit-scrollbar-thumb {
      background:#2b2b2b;
      border-radius:999px;
    }

    html, body {
      width:100%;
      height:100%;
      background-color:var(--bg-root);
      color:var(--text-main);
    }

    body {
      display:flex;
      flex-direction:column;
      justify-content:flex-start;
      align-items:stretch;
    }

    .page {
      width:100%;
      max-width:1200px;
      margin:0 auto;
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:12px;
      min-height:100%;
    }

    .page-title {
      font-size:var(--fs-title);
      font-weight:600;
      letter-spacing:0.04em;
      text-transform:uppercase;
      color:var(--text-main);
    }

    .page-subtitle {
      font-size:var(--fs-small);
      color:var(--text-muted);
      margin-top:4px;
    }

    .card {
      background-color:var(--bg-main);
      border:1px solid var(--border-soft);
      border-radius:4px;
      padding:12px 14px;
      display:flex;
      flex-direction:column;
      gap:8px;
      min-height:0;
    }

    .card-header-row {
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:8px;
    }

    .badge {
      display:inline-flex;
      align-items:center;
      padding:2px 6px;
      border-radius:999px;
      border:1px solid var(--border-soft);
      font-size:var(--fs-small);
      color:var(--accent);
      background:rgba(255,191,0,0.06);
    }

    .dot-live {
      width:6px;
      height:6px;
      border-radius:999px;
      background:var(--accent);
      margin-right:6px;
      box-shadow:0 0 8px rgba(255,191,0,0.8);
    }

    .core-title {
      font-size:var(--fs-subtitle);
      font-weight:500;
    }

    .core-headline {
      font-size:var(--fs-title);
      font-weight:600;
      line-height:1.3;
    }

    .core-meta {
      font-size:var(--fs-small);
      color:var(--text-muted);
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }

    .core-meta span {
      opacity:0.9;
    }

    .core-summary {
      font-size:var(--fs-body);
      color:var(--text-main);
      line-height:1.45;
    }

    .pill-row {
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:2px;
    }

    .pill {
      font-size:var(--fs-small);
      color:var(--text-muted);
      padding:2px 6px;
      border-radius:999px;
      border:1px dashed var(--border-soft);
      opacity:0.85;
    }

    .panel-title {
      font-size:var(--fs-subtitle);
      font-weight:500;
    }

    .panel-subtitle {
      font-size:var(--fs-small);
      color:var(--text-muted);
      margin-top:2px;
    }

    .filter-panel {
      flex-direction:column;
      gap:8px;
    }

    .filter-header {
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:8px;
    }

    .active-filter-label {
      font-size:var(--fs-small);
      color:var(--text-muted);
      text-align:right;
    }

    .active-filter-label span {
      color:var(--accent);
    }

    /* Horizontal filter row (terminal chip rail) */
    .filter-grid {
      display:flex;
      flex-wrap:nowrap;
      gap:6px;
      overflow-x:auto;
      overflow-y:hidden;
      padding-top:2px;
      padding-bottom:4px;
      -webkit-overflow-scrolling:touch;
    }

    .filter-grid::-webkit-scrollbar {
      height:4px;
    }

    .filter-btn {
      font-size:var(--fs-small);
      padding:5px 9px;
      border-radius:999px;
      border:1px solid var(--border-soft);
      background:#111111;
      color:var(--text-muted);
      cursor:pointer;
      white-space:nowrap;
      flex:0 0 auto;
      transition:
        background-color 0.12s ease,
        border-color 0.12s ease,
        color 0.12s ease,
        transform 0.05s ease;
    }

    .filter-btn:hover {
      border-color:var(--accent);
      color:var(--text-main);
      transform:translateY(-0.5px);
    }

    .filter-btn.is-active {
      background:rgba(255,191,0,0.14);
      border-color:var(--accent);
      color:var(--text-main);
    }

    .news-list {
      display:flex;
      flex-direction:column;
      gap:8px;
      max-height:260px;
      overflow-y:auto;
      padding-right:4px;
      margin-top:4px;
    }

    .news-item {
      padding:8px 8px;
      border-radius:4px;
      border:1px solid rgba(43,43,43,0.9);
      background:#101010;
      display:flex;
      flex-direction:column;
      gap:4px;
    }

    .news-item-header {
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
    }

    .news-ticker {
      font-size:var(--fs-small);
      color:var(--accent);
    }

    .news-time {
      font-size:var(--fs-small);
      color:var(--text-muted);
    }

    .news-headline {
      font-size:var(--fs-body);
      font-weight:500;
    }

    .news-tags {
      display:flex;
      flex-wrap:wrap;
      gap:4px;
      margin-top:2px;
    }

    .news-tag {
      font-size:var(--fs-small);
      padding:2px 5px;
      border-radius:999px;
      border:1px solid var(--border-soft);
      color:var(--text-muted);
    }

    .news-footer {
      font-size:var(--fs-small);
      color:var(--text-muted);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      margin-top:2px;
    }

    .news-source {
      opacity:0.85;
    }

    .news-sentiment {
      display:flex;
      align-items:center;
      gap:4px;
    }

    .sentiment-chip {
      font-size:var(--fs-small);
      padding:2px 6px;
      border-radius:999px;
      border:1px solid var(--border-soft);
      color:var(--text-main);
    }

    .sentiment-bull {
      border-color:#22c55e;
      color:#22c55e;
    }

    .sentiment-bear {
      border-color:#ef4444;
      color:#ef4444;
    }

    .sentiment-neutral {
      border-color:var(--text-muted);
      color:var(--text-muted);
    }

    .hint {
      font-size:var(--fs-small);
      color:var(--text-muted);
      margin-top:2px;
    }

    .hint code {
      font-size:var(--fs-small);
      color:var(--accent);
      background:#000000;
      padding:1px 4px;
      border-radius:3px;
      border:1px solid var(--border-soft);
    }

    /* Layout – compact terminal grid */
    .layout-top {
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    @media (min-width:768px) {
      .page {
        padding:16px;
        gap:14px;
      }
      .news-list {
        max-height:280px;
      }
    }

    @media (min-width:1024px) {
      .layout-top {
        display:grid;
        grid-template-columns:minmax(0,2fr) minmax(0,2.2fr);
        gap:16px;
        align-items:stretch;
      }

      .layout-top > .card {
        height:100%;
      }

      .news-list {
        max-height:320px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- PAGE TITLE -->
    <div>
      <div class="page-title">Global News</div>
      <div class="page-subtitle">
        Core headlines &amp; cross-asset news stream · wired into your data backend.
      </div>
    </div>

    <!-- TOP LAYOUT: CORE NEWS (LEFT) + NEWS UNIVERSE + HEADLINE STREAM (RIGHT) -->
    <div class="layout-top">
      <!-- CORE NEWS HEADER -->
      <section class="card" id="coreNewsHeader">
        <div class="card-header-row">
          <div>
            <div class="badge">
              <span class="dot-live"></span>CORE NEWS
            </div>
          </div>
          <div class="core-meta">
            <span id="coreUpdated">Updated: --:--</span>
            <span id="coreSource">Source: &ndash;</span>
          </div>
        </div>

        <div class="core-title">Global Macro Focus</div>
        <div class="core-headline" id="coreHeadline">
          Waiting for API&hellip; inject your top headline here.
        </div>

        <p class="core-summary" id="coreSummary">
          This block is for the single most important cross-asset story:
          rate decisions, inflation surprises, geopolitical shocks,
          or anything that defines the current risk-on / risk-off regime.
        </p>

        <div class="pill-row" id="coreTags">
          <span class="pill">Macro</span>
          <span class="pill">Cross-Asset</span>
          <span class="pill">High Impact</span>
        </div>
      </section>

      <!-- COMBINED PANEL: NEWS UNIVERSE + HEADLINE STREAM -->
      <section class="card filter-panel">
        <!-- HEADER + ACTIVE FILTER -->
        <div class="filter-header">
          <div>
            <div class="panel-title">News Universe &amp; Headline Stream</div>
            <div class="panel-subtitle">
              Slide categories to filter the global feed in real time.
            </div>
          </div>
          <div class="active-filter-label">
            Active filter:<br>
            <span id="activeFilterLabel">All Assets</span>
          </div>
        </div>

        <!-- HORIZONTAL BUTTON ROW -->
        <div class="filter-grid" id="filterGrid">
          <!-- Top-level navigation group -->
          <button class="filter-btn" data-filter="asset-class-insight">Asset Class Insight</button>
          <button class="filter-btn" data-filter="news">News</button>
          <button class="filter-btn" data-filter="error-404">Error • HTTP 404</button>

          <!-- Main asset & topic filters -->
          <button class="filter-btn is-active" data-filter="all-assets">All Assets</button>
          <button class="filter-btn" data-filter="stocks">Stocks</button>
          <button class="filter-btn" data-filter="commodities">Commodities</button>
          <button class="filter-btn" data-filter="fx">Foreign Exchange and Currencies</button>
          <button class="filter-btn" data-filter="indices">Indices</button>
          <button class="filter-btn" data-filter="private-companies">
            Private Companies and Brands
          </button>
          <button class="filter-btn" data-filter="macro-topics">Macro Topics</button>
          <button class="filter-btn" data-filter="etfs">
            Exchange Traded Funds (ETFs)
          </button>
          <button class="filter-btn" data-filter="crypto">Cryptocurrencies</button>
          <button class="filter-btn" data-filter="organisations">Organisations</button>
          <button class="filter-btn" data-filter="people">People</button>
          <button class="filter-btn" data-filter="state-owned">
            State-Owned Companies
          </button>
          <button class="filter-btn" data-filter="technical-analysis">
            Technical Analysis
          </button>
          <button class="filter-btn" data-filter="closed-end-funds">
            Closed-End Funds
          </button>
          <button class="filter-btn" data-filter="other-topics">
            Other Topics
          </button>
          <button class="filter-btn" data-filter="events">Events</button>
          <button class="filter-btn" data-filter="property">Property</button>
          <button class="filter-btn" data-filter="fundamental-analysis">
            Fundamental Analysis
          </button>
          <button class="filter-btn" data-filter="fin-regulation">
            Financial Regulation and Related Topics
          </button>
          <button class="filter-btn" data-filter="other-events">
            Other Events
          </button>
          <button class="filter-btn" data-filter="preferred-stocks">
            Preferred Stocks
          </button>
          <button class="filter-btn" data-filter="alternative-data">
            Alternative Data
          </button>
          <button class="filter-btn" data-filter="mutual-funds">
            Mutual Funds
          </button>
          <button class="filter-btn" data-filter="financial-topics">
            Financial Topics
          </button>
          <button class="filter-btn" data-filter="corporate-bonds">
            Corporate Bonds
          </button>
          <button class="filter-btn" data-filter="products">Products</button>
          <button class="filter-btn" data-filter="ratings-research">
            Ratings and Research Firms
          </button>
          <button class="filter-btn" data-filter="sovereign-bonds">
            Sovereign and Government Bonds
          </button>
        </div>

        <!-- HEADLINE STREAM -->
        <div class="news-list" id="newsList">
          <article class="news-item">
            <div class="news-item-header">
              <div class="news-ticker">SPX · Global Indices</div>
              <div class="news-time">Just now</div>
            </div>
            <div class="news-headline">
              Waiting for API: push your first headline into this stream.
            </div>
            <div class="news-tags">
              <span class="news-tag">All Assets</span>
              <span class="news-tag">Macro Topics</span>
            </div>
            <div class="news-footer">
              <span class="news-source">Source: &ndash;</span>
              <div class="news-sentiment">
                <span class="sentiment-chip sentiment-neutral">Sentiment: Neutral</span>
              </div>
            </div>
          </article>

          <article class="news-item">
            <div class="news-item-header">
              <div class="news-ticker">XAUUSD · Commodities</div>
              <div class="news-time">00:00 UTC</div>
            </div>
            <div class="news-headline">
              Example row: when a filter is active, only matching items should be shown.
            </div>
            <div class="news-tags">
              <span class="news-tag">Commodities</span>
              <span class="news-tag">Macro Topics</span>
            </div>
            <div class="news-footer">
              <span class="news-source">Source: Demo</span>
              <div class="news-sentiment">
                <span class="sentiment-chip sentiment-bull">Mildly Bullish</span>
              </div>
            </div>
          </article>
        </div>

        <div class="hint">
          Suggested contract:
          <code>onFilterChange(filterKey)</code> &rarr; call your API,
          then feed into <code>updateNewsStream(payload)</code>.
        </div>
      </section>
    </div>
  </div>

  <script>
    // Basic filter behaviour + hook to backend
    (function() {
      const filterButtons = Array.from(
        document.querySelectorAll(".filter-btn")
      );
      const activeLabel = document.getElementById("activeFilterLabel");

      filterButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          filterButtons.forEach(b => b.classList.remove("is-active"));
          btn.classList.add("is-active");
          activeLabel.textContent = btn.textContent.trim();

          // Backend hook:
          // const filterKey = btn.dataset.filter;
          // fetch(`/your-endpoint?filter=${encodeURIComponent(filterKey)}`)
          //   .then(r => r.json())
          //   .then(updateNewsStream);
        });
      });

      // Update Headline Stream from API
      window.updateNewsStream = function(payload) {
        // payload = [{headline, ticker, time, tags:[], source, sentiment}, ...]
        const list = document.getElementById("newsList");
        if (!list || !Array.isArray(payload)) return;

        list.innerHTML = "";
        payload.forEach(item => {
          const article = document.createElement("article");
          article.className = "news-item";

          const header = document.createElement("div");
          header.className = "news-item-header";

          const ticker = document.createElement("div");
          ticker.className = "news-ticker";
          ticker.textContent = item.ticker || "—";

          const time = document.createElement("div");
          time.className = "news-time";
          time.textContent = item.time || "";

          header.appendChild(ticker);
          header.appendChild(time);

          const headline = document.createElement("div");
          headline.className = "news-headline";
          headline.textContent = item.headline || "";

          const tags = document.createElement("div");
          tags.className = "news-tags";
          (item.tags || []).forEach(t => {
            const tag = document.createElement("span");
            tag.className = "news-tag";
            tag.textContent = t;
            tags.appendChild(tag);
          });

          const footer = document.createElement("div");
          footer.className = "news-footer";

          const source = document.createElement("span");
          source.className = "news-source";
          source.textContent = "Source: " + (item.source || "—");

          const sentimentWrap = document.createElement("div");
          sentimentWrap.className = "news-sentiment";

          const sentChip = document.createElement("span");
          sentChip.className = "sentiment-chip sentiment-neutral";
          const s = (item.sentiment || "").toLowerCase();
          if (s.includes("bull")) sentChip.className = "sentiment-chip sentiment-bull";
          else if (s.includes("bear")) sentChip.className = "sentiment-chip sentiment-bear";

          sentChip.textContent = item.sentiment || "Neutral";
          sentimentWrap.appendChild(sentChip);

          footer.appendChild(source);
          footer.appendChild(sentimentWrap);

          article.appendChild(header);
          article.appendChild(headline);
          article.appendChild(tags);
          article.appendChild(footer);

          list.appendChild(article);
        });
      };
    })();
  </script>
</body>
</html>